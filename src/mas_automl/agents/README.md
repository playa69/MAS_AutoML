# Структура агентов

В мультиагентной системе каждый агент должен быть организован в отдельной папке для лучшей модульности и масштабируемости.

## Структура папок

```
agents/
├── __init__.py              # Главный файл экспорта всех агентов
├── base.py                   # Базовые классы и типы для всех агентов
├── executor.py               # ExecutorAgent
├── planner.py                # PlannerAgent
├── researcher.py             # ResearchAgent
└── paper_research/           # PaperResearchAgent (пример модульной структуры)
    ├── __init__.py           # Экспорт агента из папки
    ├── paper_research.py     # Основной код агента
    └── README_paper_research.md  # Документация агента
```

## Правила создания нового агента

### 1. Создание папки агента

Создайте папку с именем агента в `src/mas_automl/agents/`:

```bash
mkdir src/mas_automl/agents/my_agent
```

### 2. Структура файлов

В папке агента должны быть:

- `__init__.py` - экспортирует основной класс агента
- `my_agent.py` - основной код агента (или другое имя, соответствующее функциональности)
- `README_my_agent.md` - документация (опционально)

### 3. Импорты в коде агента

В файле агента используйте относительные импорты:

```python
# Для импорта базовых классов
from ..base import Agent, AgentMessage, AgentContext

# Для импорта настроек
from ...config.settings import settings

# Для импорта других модулей проекта
from ...services.orchestrator import PipelineOrchestrator
```

### 4. Экспорт в __init__.py папки агента

В `my_agent/__init__.py`:

```python
"""Пакет агента для [описание функциональности]."""

from .my_agent import MyAgent

__all__ = [
    "MyAgent",
]
```

### 5. Добавление в главный __init__.py

В `agents/__init__.py` добавьте:

```python
from .my_agent import MyAgent

__all__ = [
    # ... другие агенты
    "MyAgent",
]
```

## Пример: PaperResearchAgent

См. `paper_research/` для примера правильно организованного агента:

- Использует LangGraph для оркестрации
- Имеет четкую структуру классов
- Правильные относительные импорты
- Документация в README

## Важно

- Каждый агент должен наследоваться от `Agent` из `base.py`
- Используйте относительные импорты (`..`, `...`) для доступа к другим модулям проекта
- Не дублируйте файлы из родительской папки (base.py, executor.py и т.д.) в папке агента
- Документируйте агента в README файле

